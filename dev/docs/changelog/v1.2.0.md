# v1.2.0 "Nagare" - Streaming Revolution

**Release Date**: July 22, 2025  
**Code Name**: "Nagare" (ÊµÅ„Çå - Flow/Stream)  
**Type**: Minor Release  

---

## üéØ Overview

Version 1.2.0 introduces comprehensive streaming capabilities and enhanced communication infrastructure to the Jiro ecosystem. This release focuses on real-time data streaming, improved WebSocket events, and refined gRPC services, enabling more efficient and responsive communication between Jiro instances and JiroCloud.

## ‚ú® Features Added

- **Streaming Infrastructure**: New `StreamingExtensions` class providing comprehensive streaming utilities
- **SignalR Stream Extensions**: Enhanced `SignalRStreamExtensions` for real-time data streaming over WebSocket connections
- **Memory Management**: Advanced `MemoryExtensions` for efficient memory operations and data handling
- **Performance Analysis**: New `PerformanceAnalyzer` utility for monitoring and optimizing application performance
- **Enhanced gRPC Services**: Improved `jiroHub.proto` with new `SendSessionMessages` RPC call for session communication
- **New Socket Events**: Additional WebSocket events for streaming data and enhanced real-time communication
- **Global Suppressions**: Comprehensive code analysis suppression configuration

## üîÑ Changes

### Streaming and Communication Enhancements

- **Real-Time Data Streaming**: Full support for streaming large datasets and real-time updates
- **WebSocket Event Expansion**: New events specifically designed for streaming scenarios
- **Session Message Broadcasting**: `SendSessionMessages` gRPC call enables efficient session-wide messaging
- **Request Offset Support**: `GetLogsRequest` now supports offset parameter for paginated log retrieval

### Infrastructure Improvements

- **Memory Optimization**: New memory management utilities for handling large data streams
- **Performance Monitoring**: Built-in performance analysis tools for identifying bottlenecks
- **Code Quality**: Global suppressions file for consistent code analysis across the project
- **Protocol Buffer Refinement**: Cleaned and optimized gRPC service definitions

### Request/Response Model Updates

- **Session Request Rename**: `GetSessionRequest` renamed to `GetSingleSessionRequest` for clarity
- **Enhanced Log Retrieval**: `GetLogsRequest` now supports offset-based pagination
- **Streaming-Aware Models**: Updated models to support streaming data scenarios

## üêõ Bug Fixes

- **gRPC Service Clarity**: Resolved ambiguity in protocol buffer definitions
- **Event Handler Reliability**: Improved WebSocket event handling for streaming scenarios
- **Memory Management**: Fixed potential memory issues with large data streams

## üõ†Ô∏è Technical Details

### Breaking Changes

- **Request Model Rename**: `GetSessionRequest` ‚Üí `GetSingleSessionRequest`
  - Update any code references to use the new class name
  - Functionality remains identical, only naming changed for clarity

### New Dependencies

- Enhanced streaming capabilities require updated SignalR and gRPC configurations
- Memory extensions may require additional system permissions for advanced operations

### Performance Improvements

- **Streaming Efficiency**: Optimized data streaming with reduced memory footprint
- **Real-Time Responsiveness**: Improved WebSocket event processing for faster data delivery
- **gRPC Call Optimization**: Enhanced protocol buffer serialization for better performance

## üíª Usage Examples

### Streaming Data with New Extensions

```csharp
// Using the new streaming extensions
public async Task StreamDataAsync(IAsyncEnumerable<DataChunk> dataStream)
{
    await foreach (var chunk in dataStream.WithMemoryOptimization())
    {
        // Process streaming data efficiently
        await ProcessChunk(chunk);
    }
}
```

### Enhanced Session Communication

```csharp
// Using the new SendSessionMessages RPC call
var sessionMessages = new SessionMessagesRequest
{
    SessionId = "session-123",
    Messages = { message1, message2, message3 }
};

await jiroHubClient.SendSessionMessagesAsync(sessionMessages);
```

### Performance Monitoring

```csharp
// Using the new PerformanceAnalyzer
using var analyzer = new PerformanceAnalyzer("StreamingOperation");
await PerformStreamingOperation();
// Performance metrics automatically captured and logged
```

### Paginated Log Retrieval

```csharp
// Using the enhanced GetLogsRequest with offset
var logsRequest = new GetLogsRequest
{
    Count = 50,
    Offset = 100, // New offset parameter for pagination
    SessionId = "session-456"
};

var response = await GetLogsAsync(logsRequest);
```

## üöÄ Deployment

- Version 1.2.0 has been built, tested, and is ready for deployment to NuGet.org
- All tests pass on .NET 9.0 runtime with streaming scenarios validated
- Package metadata updated with latest version information
- Streaming performance benchmarked and optimized for production workloads

## üîÆ Future Considerations

- Streaming capabilities lay the foundation for real-time collaborative features
- Enhanced gRPC services enable more sophisticated inter-service communication
- Performance monitoring tools provide insights for future optimization efforts

---

**Note**: This release significantly enhances the real-time capabilities of the Jiro ecosystem, enabling efficient data streaming, improved session management, and comprehensive performance monitoring. The streaming infrastructure opens up new possibilities for responsive, data-intensive applications built on the Jiro platform.